<h2 mat-dialog-title>Zmień hasło</h2>

<div class="dialog-content" mat-dialog-content>
  <div class="form-group">
    <label for="current">Stare hasło</label>
    <input
      id="current"
      type="password"
      [ngModel]="currentPassword()"
      (ngModelChange)="currentPassword.set($event)"
    />
  </div>

  <div class="form-group">
    <label for="new">Nowe hasło</label>
    <input
      id="new"
      type="password"
      [ngModel]="newPassword()"
      (ngModelChange)="newPassword.set($event)"
    />
  </div>

  <div class="form-group">
    <label for="repeat">Powtórz nowe hasło</label>
    <input
      id="repeat"
      type="password"
      [ngModel]="repeatPassword()"
      (ngModelChange)="repeatPassword.set($event)"
    />
  </div>

  <p class="error" *ngIf="message()">{{ message() }}</p>
</div>

<re-captcha (resolved)="onCaptchaResolved($event)" [siteKey]="captchaKey"></re-captcha>

<div class="dialog-actions" mat-dialog-actions>
  <button mat-button (click)="cancel()" [disabled]="loading()">Anuluj</button>
  <button
    mat-flat-button
    color="primary"
    (click)="changePassword()"
    [disabled]="loading() || !changeButtonEnabled()"
  >
    {{ loading() ? "Zapisywanie..." : "Zmień hasło" }}
  </button>
</div>
