<h3 mat-dialog-title>Edytuj użytkownika</h3>
<div class="dialog-content" mat-dialog-content>
  <div *ngIf="loading()">Ładowanie...</div>

  <div *ngIf="!loading()">
    <div *ngIf="error()" class="error">{{ error() }}</div>

    <div class="form-row">
      <label>Imię</label>
      <input [ngModel]="name()" (ngModelChange)="name.set($event)" />
    </div>

    <div class="form-row">
      <label>Rola</label>
      <select
        [ngModel]="selectedRoleId()"
        (ngModelChange)="selectedRoleId.set($event ? +$event : null)"
      >
        <option [value]="null">-- Brak roli --</option>
        <option *ngFor="let role of roles()" [value]="role.id">
          {{ role.name }}
        </option>
      </select>
    </div>

    <div class="form-row">
      <label
        ><input
          type="checkbox"
          [ngModel]="isBlocked()"
          (ngModelChange)="isBlocked.set($event)"
        />
        Zablokowany</label
      >
    </div>

    <div class="form-row">
      <label
        ><input
          type="checkbox"
          [ngModel]="requirePasswordRules()"
          (ngModelChange)="requirePasswordRules.set($event)"
        />
        Wymagaj reguł hasła</label
      >
    </div>

    <div class="form-row">
      <label>Ważność hasła</label>
      <input
        type="date"
        [ngModel]="passwordValidTo()"
        (ngModelChange)="passwordValidTo.set($event)"
      />
    </div>
  </div>
  <div class="actions" mat-dialog-actions>
    <button (click)="cancel()">Anuluj</button>
    <button (click)="save()">Zapisz</button>
  </div>
</div>
